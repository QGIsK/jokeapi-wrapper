import e from"isomorphic-unfetch";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var r="https://v2.jokeapi.dev",i=function(e){return Array.isArray(e)?e.join(","):e},n=function(){function n(e){void 0===e&&(e={}),this._options=e}var a=n.prototype;return a.getJoke=function(e){void 0===e&&(e={}),e.categories||(e.categories="any");var t=this._buildUrl("joke",e);return this._request(t)},a.info=function(e){void 0===e&&(e={});var t=this._buildUrl("info",e);return this._request(t)},a.categories=function(e){void 0===e&&(e={});var t=this._buildUrl("categories",e);return this._request(t)},a.langcode=function(e){if(void 0===e&&(e={}),!e.language)return{error:!0,message:"You need to supply a language"};var t=this._buildUrl("langcode",e);return this._request(t)},a.languages=function(e){void 0===e&&(e={});var t=this._buildUrl("languages",e);return this._request(t)},a.flags=function(e){void 0===e&&(e={});var t=this._buildUrl("flags",e);return this._request(t)},a.formats=function(e){void 0===e&&(e={});var t=this._buildUrl("formats",e);return this._request(t)},a.ping=function(e){void 0===e&&(e={});var t=this._buildUrl("ping",e);return this._request(t)},a.endpoints=function(e){void 0===e&&(e={});var t=this._buildUrl("endpoints",e);return this._request(t)},a.submit=function(e){void 0===e&&(e={});var t=this._buildUrl("submit",void 0,e["dry-run"]);return delete e["dry-run"],this._request(t,{body:JSON.stringify(e),method:"POST"})},a._buildUrl=function(e,t,n){if(n)return r+"/"+e+"?dry-run";if(t){var a=function(e,t){var r,n={};if(e&&t)return Object.assign(n,e),"safe-mode"in t&&(n["safe-mode"]="safe-mode"),"safe-mode"in e&&(e["safe-mode"]?n["safe-mode"]="safe-mode":delete n["safe-mode"]),"format"in t&&(n.format=t.format),"format"in e&&("json"===e.format?delete n.format:n.format=e.format),("blacklistFlags"in e||"blacklistFlags"in t)&&(n.blacklistFlags=i(e.blacklistFlags?e.blacklistFlags:t.blacklistFlags)),("lang"in e||"lang"in t)&&(n.lang=e.lang?e.lang:t.lang),"type"in e&&(n.type=i(e.type)),"categories"in e&&(r="/"+i(e.categories),delete n.categories),"language"in e&&(r="/"+e.language,delete n.language),{parsedParams:n,wildcard:r}}(t,this._options),o=a.wildcard;return this._buildQuery(o?r+"/"+e+o:r+"/"+e,a.parsedParams)}return r+"/"+e},a._buildQuery=function(e,t){var r=Object.entries(t).map(function(e){return e[0]===e[1]?e[0]:e.map(encodeURIComponent).join("=")}).join("&");return r?e+"?"+r:e},a._request=function(r,i){try{return Promise.resolve(e(r,t({},i,{headers:{Authorization:this._options.apiKey,"Content-Type":"application/json"}}))).then(function(e){var t=new URL(r);return new URLSearchParams(t.search).get("format")?e.text():e.json()})}catch(e){return Promise.reject(e)}},n}();n.BASE=r,n.HOST="https://jokeapi.dev",n.API_VERSION="2",n.CATEGORIES=["any","misc","programming","dark","pun","spooky","christmas","miscellaneous","coding","development","halloween"],n.BLACKLIST_FLAGS=["nsfw","religious","political","racist","sexist","explicit"],n.FORMAT=["json","xml","yaml","txt"],n.TYPE=["single","twopart"],n.AMOUNT_MAX=10;export{n as default};
//# sourceMappingURL=index.module.js.map
